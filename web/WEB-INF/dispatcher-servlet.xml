<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd">
    
    
    <bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"/>
    <!--
    Most controllers will use the ControllerClassNameHandlerMapping above, but
    for the index controller we are using ParameterizableViewController, so we must
    define an explicit mapping for it.
    -->
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>              
                <prop key="login.htm">loginController</prop>
                <prop key="register.htm">registerController</prop>
                <prop key="rhangePassword.htm">changePasswordController</prop>
                <prop key="admin.htm">adminController</prop>
                <prop key="adminWorkerMain.htm">adminWorkerMainController</prop>
                <prop key="adminDeleteWorker.htm">adminDeleteWorkerController</prop>
                <prop key="adminDeleteWorkerView.htm">adminDeleteWorkerViewController</prop>
                <prop key="adminAddWorker.htm">adminAddWorkerController</prop>
                <prop key="adminEditWorker.htm">adminEditWorkerController</prop>
                <prop key="adminEditWorkerView.htm">adminEditWorkerViewController</prop>
                <prop key="adminViewWorker.htm">adminViewWorkerController</prop>
                <prop key="adminViewResultsWorker.htm">adminViewResultsWorkerController</prop>
            </props>
        </property>
    </bean>

    <bean id="viewResolver"
          class="org.springframework.web.servlet.view.InternalResourceViewResolver"
          p:prefix="/WEB-INF/jsp/"
          p:suffix=".jsp" />
    <!--
    The login controller.
    -->
    <bean name="loginController"
          class="Controller.LoginClass"
          p:formView="login"
          p:loginDAO-ref="loginDAO"
          p:validator-ref="loginValidator"
    />
    <!--
    The register controller.
    -->
    <bean name="registerController"
          class="Controller.RegisterClass"
          p:formView="register"
          p:workerDAO-ref="workerDAO"
          p:validator-ref="workerRegistrationValidator"
    />
    <!--
    The change password controller.
    -->
    <bean name="changePasswordController"
          class="Controller.ChangePasswordClass"
          p:formView="changePassword"
    />
    <!--
    The admin menu controller.
    -->
    <bean name="adminController"
          class="Controller.AdminClass"
          p:formView="admin"
    />
    <!--
    The admin worker main menu controller.
    -->
    <bean name="adminWorkerMainController"
          class="Controller.AdminWorkerMainClass"
          p:formView="adminWorkerMain"
    />
    <!--
    The delete worker controller.
    -->
    <bean name="adminDeleteWorkerController"
          class="Controller.AdminDeleteWorkerClass"
          p:formView="adminDeleteWorker"
          p:workerDAO-ref="workerDAO"
    />
    <!--
    The delete worker view controller.
    -->
    <bean name="adminDeleteWorkerViewController"
          class="Controller.AdminDeleteWorkerViewClass"
          p:formView="adminDeleteWorkerView" 
          p:workerDAO-ref="workerDAO"
    />
    <!--
    The edit worker controller.
    -->
    <bean name="adminEditWorkerController"
          class="Controller.AdminEditWorkerClass"
          p:formView="adminEditWorker"
          p:workerDAO-ref="workerDAO"
    />
    <!--
    The edit worker view controller.
    -->
    <bean name="adminEditWorkerViewController"
          class="Controller.AdminEditWorkerViewClass"
          p:formView="adminEditWorkerView"
          p:workerDAO-ref="workerDAO"
    />
    <!--
    The add worker controller.
    -->
    <bean name="adminAddWorkerController"
          class="Controller.AdminAddWorkerClass"
          p:formView="adminAddWorker"
          p:workerDAO-ref="workerDAO"
          p:validator-ref="workerRegistrationValidator"
    />
    <!--
    The view worker controller.
    -->
    <bean name="adminViewWorkerController"
          class="Controller.AdminViewWorkerClass"
          p:formView="adminViewWorker"
          p:workerDAO-ref="workerDAO"
    />
    <!--
    The add view result workers controller.
    -->
    <bean name="adminViewResultsWorkerController"
          class="Controller.AdminViewResultsWorkerClass"
          p:formView="adminViewResultsWorker"
    />
   <!--
        Adding a Validator to User and Worker Classes
   -->      
   <bean id="loginValidator" class="Validator.LoginValidator" />
   <bean id="workerRegistrationValidator" class="Validator.WorkerValidator" />
   <!--
        Adding the Resource Bundles
   -->
   <bean name="loginDAO" class="DAO.LoginDAOImpl" />
   <bean name="workerDAO" class="DAO.WorkerDAOImpl" />
   <bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource" p:basename="messages" />
   <context:annotation-config/>
   <context:component-scan base-package="com.syntel" />
    
</beans>
